copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt widget import org eclips swt import org eclips swt event import org eclips swt graphic import org eclips swt intern win instanc class repres icon place system tray task bar status area style event default select menu detect select class intend subclass sinc public class tray item extend item tray parent int imag imag string tool tip text boolean visibl true construct instanc class parent code tray code style valu describ behavior item ad item maintain parent style valu style constant defin class code code applic instanc class built bitwis ing togeth code int code oper code code style constant class descript list style constant applic class style bit inherit superclass param parent composit control parent instanc null param style style control construct illeg argument parent null call thread creat parent class subclass widget check subclass widget style public tray item tray parent int style super parent style parent parent parent creat item parent item count creat widget add listen collect listen notifi receiv select send messag defin code select listen code interfac code widget select code call receiv select code widget default select code call receiv doubl click param listen listen notifi illeg argument listen null receiv dispos call thread creat receiv select listen remov select listen select event public void add select listen select listen listen check widget listen null error type listen type listen type listen listen add listen select type listen add listen default select type listen protect void check subclass valid subclass error imag creat icon imag imag imag data data imag imag data data alpha data alpha data null imag data mask data transpar mask return imag display data mask int width data width height data height int mask bitmap int int dst hdc creat compat dst bitmap win bitmap display creat bit imag handl data alpha data alpha data data transpar pixel mask creat bitmap width height null dst bitmap select object dst hdc mask pat blt dst hdc width height els mask display creat mask alpha data width height icon black pixel mask transpar bitmap creat compat bitmap width height dst bitmap select object dst hdc bitmap int src hdc creat compat int src bitmap select object src hdc imag handl pat blt dst hdc width height bit blt dst hdc width height src hdc select object src hdc mask bit blt dst hdc width height src hdc select object src hdc imag handl bit blt dst hdc width height src hdc select object src hdc src bitmap delet src hdc select object dst hdc dst bitmap delet dst hdc releas info info icon true info hbm color bitmap info hbm mask mask int icon creat icon indirect info icon error delet object bitmap delet object mask return imag win display icon void creat widget win return icon data unicod icon data size sizeof icon data display tray icon data wnd display hwnd messag icon data flag icon data callback messag display shell notifi icon icon data return receiv tool tip text null set return receiv tool tip text receiv dispos call thread creat receiv public string tool tip text check widget return tool tip text return code true code receiv visibl code fals code otherwis return receiv visibl receiv dispos call thread creat receiv public boolean visibl check widget return visibl int messag proc int hwnd int msg int param int param featur window user click tray icon anoth applic foreground window event loop run caus problem exampl menu shown user click outsid menu cancel menu hidden event process anoth applic foreground window menu hidden fix forc tray icon messag window foreground send event switch param case hook select set foreground window hwnd post event select break case case hook default select set foreground window hwnd post event default select break case hook menu detect set foreground window hwnd send event menu detect widget dispos point dispos return break display wake thread return void recreat creat widget visibl set visibl fals text length set text text imag null set imag imag tool tip text null set tool tip text tool tip text void releas child super releas child parent destroy item void releas widget super releas widget imag null imag dispos imag null tool tip text null win return icon data unicod icon data size sizeof icon data icon data wnd display hwnd messag shell notifi icon icon data remov listen collect listen notifi receiv select param listen listen longer notifi illeg argument listen null receiv dispos call thread creat receiv select listen add select listen public void remov select listen select listen listen check widget listen null error event tabl null return event tabl unhook select listen event tabl unhook default select listen set receiv imag param imag imag illeg argument imag dispos receiv dispos call thread creat receiv public void set imag imag imag check widget imag null imag dispos error super set imag imag win return imag null imag dispos imag null int icon imag icon imag icon null switch icon type case imag creat icon imag icon imag handl break case icon icon handl break icon data unicod icon data size sizeof icon data icon data wnd display hwnd messag icon data icon icon icon data flag shell notifi icon icon data set receiv tool tip text argument null indic tool tip text shown param valu tool tip text null receiv dispos call thread creat receiv public void set tool tip text string valu check widget tool tip text valu win return icon data unicod buffer tool tip text null tool tip text true note size tip field differ version shell dll int length unicod char tip icon data tip length math min length buffer length system arraycopi buffer char tip length els byte tip icon data tip length math min length buffer length system arraycopi buffer byte tip length icon data size sizeof icon data icon data wnd display hwnd messag icon data flag shell notifi icon icon data receiv visibl argument code true code invis otherwis param visibl visibl state receiv dispos call thread creat receiv public void set visibl boolean visibl check widget visibl visibl return visibl possibl unlik applic code dispos widget show event happen return send event show dispos return visibl visibl win icon data unicod icon data size sizeof icon data icon data wnd display hwnd messag visibl icon data flag icon data callback messag display shell notifi icon icon data set imag imag set tool tip text tool tip text els shell notifi icon icon data els icon data flag icon data state visibl icon data state mask shell notifi icon icon data visibl send event hide 