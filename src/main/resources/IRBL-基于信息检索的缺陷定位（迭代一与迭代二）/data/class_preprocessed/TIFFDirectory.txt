copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt intern imag import org eclips swt import org eclips swt graphic import java final class directori random file access file boolean littl endian imag loader loader int depth directori field int imag width int imag length int bit sampl int compress int photometr interpret int strip offset int sampl pixel int row strip int strip byte count int option int color map offset encod field imag data imag data output stream static final int static final short imag width static final short imag length static final short bit sampl static final short compress static final short photometr interpret static final short strip offset static final short sampl pixel static final short row strip static final short strip byte count static final short resolut static final short resolut static final short option static final short resolut unit static final short color map static final int static final int static final int static final int static final int differ compress scheme static final int static final int static final int static final int public directori random file access file boolean littl endian imag loader loader file file littl endian littl endian loader loader public directori imag data imag imag imag pack bit decod int decod pack bit byte src byte dest int offset dest int dest index offset dest int src index src index src length byte src src index copi byte liter system arraycopi src src index dest dest index src index dest index els copi byte time byte valu src src index int dest dest index valu src index els noop src index number byte copi return dest index offset dest int entri valu int type byte buffer int index return int buffer index type void entri valu int type byte buffer int index int valu throw int start index int size int offset int buffer start switch type case size break case size break case size break case case size break default error return valu length size buffer byte valu length size file seek offset file read buffer start int valu length valu int buffer start size type void decod pixel imag data imag throw row byte align byte imag data byte imag width depth imag length imag data imag data int dest index int length strip offset length int length read strip byte data byte strip byte count file seek strip offset file read data compress system arraycopi data imag data dest index data length dest index data length els compress dest index decod pack bit data imag data dest index els compress compress modifi huffman codec codec modifi huffman codec int row row strip length int imag length row strip row dest index codec decod data imag data dest index imag width row loader listen loader notifi listen imag loader event loader imag length palett data color map throw int num color bit sampl entri bit wide byte int num byte num color byte buffer byte num byte file seek color map offset file read buffer color num color doe support bit depth color format convert bit data bit data correct multipli bit valu valu fast drop byte bit valu int offset littl endian int start num color int start start num color int num color int buffer offset int buffer start offset int buffer start offset color offset return palett data color palett data gray palett int num color bit sampl rgbs num color int num color int valu num color photometr interpret valu valu rgbs valu valu valu return palett data rgbs palett data palett int bit int bit int bit int blue mask int bit blue mask int green mask int bit bit bit green mask int red mask int bit bit bit bit bit red mask return palett data red mask green mask blue mask int format strip int row byte size int nbr row byte data int max strip byte size int offset post int extra byte int strip calcul nbr requir strip follow requir strip possibl greater max strip byte size strip entir row format strip field array imag data store contigu block block store ani tag info describ int nbr row strip row byte size max strip byte size strip row data length row byte size nbr row strip els int nbr data length max strip byte size max strip byte size nbr row strip nbr row nbr nbr row nbr row strip nbr row strip int strip byte size row byte size nbr row strip int offset int int count int nbr byte directori start imag data space offset count data field byte tag requir space imag block extra byte paramet onli strip offset count data store direct reserv space int post data int start offset offset post extra byte post data offset imag data int offset start offset int store strip sequenti copi pixel contigu area offset offset count strip byte size offset strip byte size strip row int mod data length strip byte size mod count count length mod strip offset strip count return nbr row strip int format color map rgbs color map red follow green blue valu convert bit bit int color map int rgbs length int offset green rgbs length int offset blue rgbs length int rgbs length color map rgbs red rgbs red color map offset green rgbs green rgbs green color map offset blue rgbs blue rgbs blue return color map void pars entri byte buffer throw int offset offset buffer length offset int tag int buffer offset int type int buffer offset int count int buffer offset switch tag case imag width imag width entri valu type buffer offset break case imag length imag length entri valu type buffer offset break case bit sampl type error bit sampl int count entri valu type buffer offset bit sampl break case compress compress entri valu type buffer offset break case photometr interpret photometr interpret entri valu type buffer offset break case strip offset type type error strip offset int count entri valu type buffer offset strip offset break case sampl pixel type error sampl pixel entri valu type buffer offset onli basic valu support sampl pixel sampl pixel error break case row strip row strip entri valu type buffer offset break case strip byte count strip byte count int count entri valu type buffer offset strip byte count break case resolut ignor break case resolut ignor break case option type error option entri valu type buffer offset option dimension code support error break case resolut unit ignor break case color map type error offset color map color map offset entri valu buffer offset break public imag data read throw set default valu bit sampl int color map offset compress imag length imag width photometr interpret row strip integ sampl pixel strip byte count null strip offset null byte buffer byte file read buffer int number entri int buffer buffer byte number entri file read buffer pars entri buffer palett data palett null depth switch photometr interpret case case bilevel grayscal imag palett gray palett depth bit sampl break case imag color map offset error sampl pixel onli valu support palett palett bit sampl bit sampl bit sampl depth bit sampl bit sampl bit sampl break case palett color imag color map offset error palett color map depth bit sampl break default error imag data imag imag data intern imag width imag length depth palett null null null decod pixel imag return imag int int byte buffer int int type type return littl endian buffer buffer buffer buffer buffer buffer buffer buffer type return littl endian buffer buffer buffer buffer invalid type error return void write int photometr interpret throw boolean photometr interpret boolean color map photometr interpret boolean level photometr interpret photometr interpret int imag width imag width int imag length imag height int row byte size imag byte line int number entri level int length directori number entri offset follow header directori int offset length directori extra space resolut resolut valu int extra byte int color map null color map palett data palett imag palett rgbs palett color map format color map rgbs number entri color map match bit sampl field color map length imag depth error extra space color map valu extra byte color map length extra space bit sampl valu extra byte recommend store data strip byte data imag data int strip int int nbr row strip format strip row byte size imag length data offset extra byte strip int strip offset strip int strip byte count strip int bit sampl offset bit sampl offset offset offset int strip offset offset strip byte count offset int resolut offset resolut offset color map offset int cnt strip offset length cnt strip offset offset offset offset cnt strip byte count offset offset offset cnt resolut offset offset offset resolut offset offset offset color map color map offset offset offset color map length header write header imag file directori write short number entri write entri imag width imag width write entri imag length imag length color map write entri bit sampl imag depth write entri bit sampl bit sampl offset write entri compress write entri photometr interpret photometr interpret write entri strip offset cnt cnt strip offset offset strip offset write entri sampl pixel write entri row strip nbr row strip write entri strip byte count cnt cnt strip byte count offset strip byte count write entri resolut resolut offset write entri resolut resolut offset color map write entri color map color map length color map offset offset write int valu longer byte section bit sampl int write short cnt int cnt write int strip offset int cnt write int strip byte count resolut resolut set dpi int write int write int color map color map int color map length write short color map imag data write data void write entri short tag int type int count int valu throw write short tag write short type write int count write int valu void write header throw littl endian write byte byte write byte byte identifi write short offset chosen word align immedi header write int void write stream data output stream byte stream throw byte stream int photometr interpret scanlin pad imag scanlin pad error switch imag depth case palett black white white black palett data palett imag palett rgbs palett color palett direct rgbs null rgbs length error rgb rgbs rgb rgbs rgb red rgb green rgb green rgb blue rgb red rgb green rgb green rgb blue rgb red rgb red rgb red rgb red error color index imag white photometr interpret imag palett color red break case case photometr interpret break case photometr interpret break default error write photometr interpret 