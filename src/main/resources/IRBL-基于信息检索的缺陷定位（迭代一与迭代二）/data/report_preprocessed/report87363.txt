regress menudetect longer open menus bug introduc nov prior chang control showmenu boolean showmenu int int event event event event event sendev swt menudetect event event doit return true menu null amp amp menu isdispos event event menu setloc event event menu setvis true return true return fals menu creat dure menudetect listen notif menu field updat menu set visibl nov method move widget boolean showmenu menu menu int int event event event event event sendev swt menudetect event event doit return true menu null amp amp menu isdispos event event menu setloc event event menu setvis true return true return fals sinc menu local variabl updat menu creat menudetect event follow exampl demonstr problem public static void main string arg display display display final shell shell shell display shell addlisten swt menudetect listen int count public void handleev event event menu menu shell getmenu menu null menu dispos menu menu shell swt pop menuitem item menuitem menu swt push item settext quot menu quot count shell setmenu menu shell pack shell open shell isdispos display readanddispatch display sleep display dispos 