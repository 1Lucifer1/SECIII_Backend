copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt dnd import org eclips swt intern ole win import org eclips swt intern win class code text transfer code provid platform specif mechan convert plain text repres java code string code platform specif represent data vice versa exampl java code string code plain text shown code pre string text data world code pre transfer public class text transfer extend byte array transfer privat static text transfer instanc text transfer privat static final string privat static final string privat static final int privat static final int privat text transfer return singleton instanc text transfer class return singleton instanc text transfer class public static text transfer instanc return instanc implement code java nativ code convert plain text repres java code string code platform specif represent param object java code string code text param transfer data empti code transfer data code object object fill return platform specif format data transfer java nativ public void java nativ object object transfer data transfer data check text object support type transfer data error transfer data result string string string object switch transfer data type case int char count string length char char char char count string char char count char int byte count char length int ptr global alloc byte count move memori ptr char byte count transfer data stgmedium transfer data stgmedium tyme transfer data stgmedium union field ptr transfer data stgmedium unk releas transfer data result break case int count string length char char char count string char count char int code page int cch multi byte wide char multi byte code page char null null null cch multi byte transfer data stgmedium transfer data result return int multi byte str global alloc cch multi byte wide char multi byte code page char multi byte str cch multi byte null null transfer data stgmedium transfer data stgmedium tyme transfer data stgmedium union field multi byte str transfer data stgmedium unk releas transfer data result break return implement code nativ java code convert platform specif represent plain text java code string code param transfer data platform specif represent data convert return java code string code text convers success otherwis null transfer nativ java public object nativ java transfer data transfer data support type transfer data transfer data data object return null data object data data object transfer data data object data add ref formatetc transfer data formatetc stgmedium stgmedium tyme transfer data result data data formatetc stgmedium data releas transfer data result return null int mem stgmedium union field tri switch transfer data type case ensur byte count multipl byte int size global size mem size return null char char char size int ptr global lock mem ptr return null tri move memori char ptr size int length char length int char length char length break return string char length final global unlock mem case int multi byte str global lock mem multi byte str return null tri int code page int cch wide char multi byte wide char code page multi byte str null cch wide char return null char wide char str char cch wide char multi byte wide char code page multi byte str wide char str wide char str length return string wide char str final global unlock mem final global free mem return null protect int type id return int protect string type return string boolean check text object object return object null object instanceof string string object length protect boolean valid object object return check text object 