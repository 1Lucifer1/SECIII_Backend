copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt graphic import java import org eclips swt import org eclips swt intern cloneabl compat instanc class devic independ descript imag typic intermedi format load write stream creat code imag code note public field code code code code code dispos method code code delay time code typic onli imag set imag anim imag imag loader public final class imag data implement cloneabl compat width imag pixel public int width height imag pixel public int height color depth imag bit pixel note depth doe necessarili imag palett index convers depth greater imag direct color check associ palett data direct field determin public int depth scanlin pad scanlin imag multipl number pad public int scanlin pad number byte scanlin multipl scanlin pad public int byte line pixel data imag note bit depth imag pixel data store signific byte order howev bit bit depth imag pixel data store signific byte order public byte data color tabl imag public palett data palett transpar pixel pixel valu transpar default transpar pixel public int transpar pixel icon specif field data icon mask bit bitmap store signific bit number byte scanlin width mask pad mask pad mask pad default null transpar mask public byte mask data icon specif field scanlin pad mask scanlin transpar mask multipl number pad public int mask pad alpha data imag everi pixel alpha blend valu vari fulli transpar fulli opaqu number byte scanlin width public byte alpha data global alpha valu everi pixel valu set code alpha data code field ignor imag render pixel blend background amount proport valu default global alpha valu public int alpha type file imag read express follow valu code code window file format compress code code window file format compress appropri code code file format code code window file format code code file format code code file format public int type coordin top left corner imag logic screen field correspond imag left posit valu public int coordin top left corner imag logic screen field correspond imag top posit valu public int descript dispos current imag befor display express follow valu code code dispos method specifi code code noth leav imag place code code fill background color code code restor previous pictur field correspond dispos method valu public int dispos method time delay befor display imag anim field correspond delay time valu public int delay time arbitrari channel width data bit convers tabl static final byte byte static int byte data byte continu int int bit bit bit int data byte static final byte scale bayer dither matrix static final int xfc xdc xbc xcc xec xac construct empti imag data width height depth palett data initi array appropri size param width width imag param height height imag param depth depth imag param palett palett imag null illeg argument width height negat depth palett null public imag data int width int height int depth palett data palett width height depth palett null null null construct empti imag data width height depth palett scanlin pad data param width width imag param height height imag param depth depth imag param palett palett imag param scanlin pad pad line byte param data data imag illeg argument width height negat depth palett data null scanlin pad public imag data int width int height int depth palett data palett int scanlin pad byte data width height depth palett scanlin pad check data data null null construct code imag data code load specifi input stream throw error error occur load imag imag unsupport type applic code respons close input stream constructor provid conveni load singl imag onli stream multipl imag onli load load multipl imag code imag loader load code constructor load resourc follow pre static imag data load imag data class clazz string string input stream stream clazz resourc stream string stream null return null imag data imag data null tri imag data imag data stream catch final tri stream close catch return imag data pre param stream input stream load imag null illeg argument stream null imag file invalid data error occur read data imag loader load input stream public imag data input stream stream imag data data imag data loader load stream data length error imag data data set field width height depth scanlin pad byte line data palett transpar pixel mask data mask pad alpha data alpha type dispos method delay time construct code imag data code load file specifi throw error error occur load imag imag unsupport type constructor provid conveni load singl imag onli file multipl imag onli load load multipl imag code imag loader load code param filenam file load imag null illeg argument file null imag file invalid data error occur read data imag file unrecogn format public imag data string filenam imag data data imag data loader load filenam data length error imag data data set field width height depth scanlin pad byte line data palett transpar pixel mask data mask pad alpha data alpha type dispos method delay time prevent uniniti instanc creat outsid packag imag data construct imag data give valu comput field method intern describ imag data int width int height int depth palett data palett int scanlin pad byte data int mask pad byte mask data byte alpha data int alpha int transpar pixel int type int int int dispos method int delay time palett null error depth depth depth depth depth depth depth error width height error scanlin pad error int byte line width depth scanlin pad scanlin pad scanlin pad set field width height depth scanlin pad byte line data null data byte byte line height palett transpar pixel mask data mask pad alpha data alpha type dispos method delay time initi field receiv method call public constructor ensur field initi imag data object field ad class ad method method intern describ void set field int width int height int depth int scanlin pad int byte line byte data palett data palett int transpar pixel byte mask data int mask pad byte alpha data int alpha int type int int int dispos method int delay time width width height height depth depth scanlin pad scanlin pad byte line byte line data data palett palett transpar pixel transpar pixel mask data mask data mask pad mask pad alpha data alpha data alpha alpha type type dispos method dispos method delay time delay time invok intern function creat instanc class method part public code imag data code mark public onli share packag provid subject chang notic call applic code method intern describ public static imag data intern int width int height int depth palett data palett int scanlin pad byte data int mask pad byte mask data byte alpha data int alpha int transpar pixel int type int int int dispos method int delay time return imag data width height depth palett scanlin pad data mask pad mask data alpha data alpha transpar pixel type dispos method delay time imag data color mask imag int pixel imag data mask imag data width height palett null null null int row int width int height pixel width row int width pixel row pixel row els row mask set pixel width row return mask static byte check data byte data data null error return data return instanc class receiv slot fill copi valu slot receiv return object deep copi receiv return copi receiv public object clone byte clone data byte data length system arraycopi data clone data data length byte clone mask data null mask data null clone mask data byte mask data length system arraycopi mask data clone mask data mask data length byte clone alpha data null alpha data null clone alpha data byte alpha data length system arraycopi alpha data clone alpha data alpha data length return imag data width height depth palett scanlin pad clone data mask pad clone mask data clone alpha data alpha transpar pixel type dispos method delay time return alpha valu offset code code scanlin code code receiv alpha data param coodin pixel alpha valu param coordin pixel alpha valu return alpha valu coordin illeg argument argument rang public int alpha int int width height error alpha data null return return alpha data width return code width code alpha valu start offset code code scanlin code code receiv alpha data start code start index code param posit pixel alpha valu param posit pixel alpha valu param width width data param alpha buffer put alpha valu param start index offset imag alpha valu index bound width larg illeg argument pixel null bound width negat public void alpha int int int width byte alpha int start index alpha null error width width height error width return alpha data null int index start index width int start index index alpha byte return throw index bound system arraycopi alpha data width alpha start index width return pixel valu offset code code scanlin code code receiv data param posit pixel param posit pixel return pixel coordin illeg argument argument bound depth public int pixel int int width height error int index int byte int mask depth index byte line byte data index mask byte mask return els return depth index byte line byte data index int offset mask offset return byte mask offset depth index byte line byte data index return byte els return byte depth index byte line return data index depth index byte line return data index data index depth index byte line return data index data index data index depth index byte line return data index data index data index data index error return return code width code pixel valu start offset code code scanlin code code receiv data start code start index code param posit pixel param posit pixel param width width data param pixel buffer put pixel param start index offset byte array store pixel index bound width larg illeg argument pixel null bound width negat depth higher depth int version method public void pixel int int int width byte pixel int start index pixel null error width width height error width return int index int byte int mask int width int start index int src src depth index byte line byte data index mask src byte mask pixel els pixel src src width src index src byte line byte data index src els mask index byte data index return depth index byte line byte data index int offset offset src mask offset pixel byte byte mask offset src src width src index src byte line byte data index src els offset index byte data index return depth index byte line byte data index pixel byte byte src src width src index src byte line src els index byte data index pixel byte byte src src width src index src byte line src els pixel byte byte src src width src index src byte line src els index byte data index pixel byte byte return depth index byte line int width pixel data index src src width src index src byte line src els index return error return code width code pixel valu start offset code code scanlin code code receiv data start code start index code param posit pixel param posit pixel param width width data param pixel buffer put pixel param start index offset buffer store pixel index bound width larg illeg argument pixel null bound width negat depth public void pixel int int int width int pixel int start index pixel null error width width height error width return int index int byte int mask int width int start index int src src depth index byte line byte data index mask src byte mask pixel els pixel src src width src index src byte line byte data index src els mask index byte data index return depth index byte line byte data index int offset offset src mask offset pixel byte byte mask offset src src width src index src byte line byte data index src els offset index byte data index return depth index byte line byte data index pixel byte src src width src index src byte line src els index byte data index pixel byte src src width src index src byte line src els pixel byte src src width src index src byte line src els index byte data index pixel byte return depth index byte line int width pixel data index src src width src index src byte line src els index return depth index byte line int width pixel data index data index src src width src index src byte line src els index return depth index byte line int width pixel data index data index data index src src width src index src byte line src els index return depth index byte line start index int width pixel data index data index data index data index src src width src index src byte line src els index return error return array code code compris index color tabl receiv null receiv direct color model return valu imag null direct color palett data public return palett return code imag data code specifi transpar mask inform receiv receiv transpar icon return opaqu mask return transpar mask public imag data transpar mask transpar type return imag data width height palett mask pad mask data els return color mask imag transpar pixel return imag transpar type code code code code code code code code return receiv transpar type public int transpar type mask data null return transpar pixel return alpha data null return return return byte order receiv return int byte order return depth return copi receiv stretch shrunk specifi size width height negat result imag invert associ axi param width width imag data param height height imag data return scale copi imag public imag data scale int width int height creat destin imag data final boolean flip width flip width width final boolean flip height flip height height imag data dest imag data width height depth palett scanlin pad null null null transpar pixel type dispos method delay time scale imag content palett direct blit data depth byte line byte order width height null dest data dest depth dest byte line dest byte order dest width dest height flip flip els blit data depth byte line byte order width height null null null null dest data dest depth dest byte line dest byte order dest width dest height null null null flip flip scale imag mask alpha mask data null dest mask pad mask pad int dest bpl dest width dest bpl dest bpl dest mask pad dest mask pad dest mask pad dest mask data byte dest bpl dest height int src bpl width src bpl src bpl mask pad mask pad mask pad blit mask data src bpl width height null null null null dest mask data dest bpl dest width dest height null null null flip flip els alpha dest alpha alpha els alpha data null dest alpha data byte dest width dest height blit alpha data width width height null null null null dest alpha data dest width dest width dest height null null null flip flip return dest set alpha valu offset code code scanlin code code receiv alpha data param coordin alpha valu set param coordin alpha valu set param alpha valu set alpha illeg argument bound public void set alpha int int int alpha width height alpha alpha error alpha data null alpha data byte width height alpha data width byte alpha set alpha valu start offset code code scanlin code code receiv alpha data valu array code alpha code start code start index code param coordin pixel set alpha valu param coordin pixel set alpha valu param put width width alpha valu set param alpha alpha valu set param start index index set index bound put width larg illeg argument pixel null bound put width negat public void set alpha int int int put width byte alpha int start index alpha null error put width width height error put width return alpha data null alpha data byte width height throw index bound system arraycopi alpha start index alpha data width put width set pixel valu offset code code scanlin code code receiv data param coordin pixel set param coordin pixel set param pixel valu valu set pixel illeg argument bound depth public void set pixel int int int pixel valu width height error int index byte byte int mask depth index byte line byte data index mask pixel valu data index byte byte mask els data index byte byte mask return depth index byte line byte data index int offset mask offset data index byte data index mask pixel valu offset return depth index byte line data index byte data index pixel valu els data index byte data index pixel valu return depth index byte line data index byte pixel valu return depth index byte line data index byte pixel valu data index byte pixel valu return depth index byte line data index byte pixel valu data index byte pixel valu data index byte pixel valu return depth index byte line data index byte pixel valu data index byte pixel valu data index byte pixel valu data index byte pixel valu return error set pixel valu start offset code code scanlin code code receiv data valu array code pixel code start code start index code param posit pixel set param posit pixel set param put width width pixel set param pixel pixel set param start index index set index bound put width larg illeg argument pixel null bound put width negat depth higher depth int version method public void set pixel int int int put width byte pixel int start index pixel null error put width width height error put width return int index int byte int mask int put width int start index int src src depth index byte line mask src pixel data index byte data index mask els data index byte data index mask src src width src index src byte line src els mask index return depth byte mask byte byte byte byte index byte line int offset byte pixel data index byte data index mask offset byte offset src src width src index src byte line offset src els offset index offset els offset return depth index byte line boolean high byte pixel high data index byte data index byte els data index byte data index byte src src width src index src byte line high true src els high index high high return depth index byte line int put width data index byte pixel src src width src index src byte line src els index return error set pixel valu start offset code code scanlin code code receiv data valu array code pixel code start code start index code param posit pixel set param posit pixel set param put width width pixel set param pixel pixel set param start index index set index bound put width larg illeg argument pixel null bound put width negat depth public void set pixel int int int put width int pixel int start index pixel null error put width width height error put width return int index int byte int mask int put width int start index int pixel int src src depth index byte line mask src pixel data index byte data index mask els data index byte data index mask src src width src index src byte line src els mask index return depth byte mask byte byte byte byte index byte line int offset byte pixel data index byte data index mask offset byte offset src src width src index src byte line offset src els offset index offset els offset return depth index byte line boolean high byte pixel high data index byte data index byte els data index byte data index byte src src width src index src byte line high true src els high index high high return depth index byte line int put width data index byte pixel src src width src index src byte line src els index return depth index byte line int put width pixel pixel data index byte pixel data index byte pixel src src width src index src byte line src els index return depth index byte line int put width pixel pixel data index byte pixel data index byte pixel data index byte pixel src src width src index src byte line src els index return depth index byte line int put width pixel pixel data index byte pixel data index byte pixel data index byte pixel data index byte pixel src src width src index src byte line src els index return error return palett color black white static palett data palett return palett data offset signific bit mask static int offset int mask int mask return return find closest match static int closest match int depth byte red byte green byte blue int red mask int green mask int blue mask byte red byte green byte blue depth int rshift offset red mask int gshift offset green mask int bshift offset blue mask return red rshift red mask green gshift green mask blue bshift blue mask int int min distanc fffffff int nearest pixel int red length int red red green green blue blue int distanc distanc min distanc nearest pixel distanc break min distanc distanc return nearest pixel static final imag data convert mask imag data mask mask depth return mask palett data palett palett data imag data mask imag data mask width mask height palett find index black mask palett int black index rgbs mask rgbs null black index rgbs length rgbs black index equal palett color break black index int pixel int mask width int mask height mask pixel mask width pixel int pixel length pixel black index pixel els pixel mask set pixel mask width pixel return mask static final byte convert pad byte data int width int height int depth int pad int pad pad pad return data int stride width depth int bpl stride pad pad pad int bpl stride pad pad pad byte data byte height bpl int src index dest index int height system arraycopi data src index data dest index stride src index bpl dest index bpl return data blit oper bit togeth specifi desir oper static final int copi sourc direct els appli logic oper enabl alpha blend enabl dither color mode alpha mode valu specifi global alpha level static final int fulli opaqu ignor ani alpha data fulli transpar ignor ani alpha data alpha channel separ alpha data alpha channel embed sourc data transpar mask form byte alpha data opaqu transpar mask form pack bit alpha data consid sourc palett indic transpar alpha data array consid sourc transpar format alpha data array byte bit order constant static final int static final int data type intern privat static final int direct true color format arbitrari mask shift palett index color format blit direct palett imag direct palett imag note sourc destin depth order mask pairwis equal blitter oper mask ignor henc chang imag data format specifi mask param blitter oper combin xxx flag xxx constant param src data sourc byte array imag data param src depth sourc depth param src stride sourc number byte line param src order sourc byte order ignor src depth param src top left coord sourc blit region param src top left coord sourc blit region param src width width sourc blit region param src height height sourc blit region param src red mask sourc red channel mask param src green mask sourc green channel mask param src blue mask sourc blue channel mask param alpha mode alpha blend mask mode integ global alpha ignor specifi blitter oper xxx constant param alpha data alpha blend mask data vari depend valu alpha mode sometim ignor param alpha stride alpha data number byte line param alpha top left coord alpha blit region param alpha top left coord alpha blit region param dest data destin byte array imag data param dest depth destin depth param dest stride destin number byte line param dest order destin byte order ignor dest depth param dest top left coord destin blit region param dest top left coord destin blit region param dest width width destin blit region param dest height height destin blit region param dest red mask destin red channel mask param dest green mask destin green channel mask param dest blue mask destin blue channel mask param flip true result imag flip vertic axi param flip true result imag flip horizont axi static void blit int byte src data int src depth int src stride int src order int src int src int src width int src height int src red mask int src green mask int src blue mask int alpha mode byte alpha data int alpha stride int alpha int alpha byte dest data int dest depth int dest stride int dest order int dest int dest int dest width int dest height int dest red mask int dest green mask int dest blue mask boolean flip boolean flip dest width dest height alpha mode return suppli param final int src alpha mask dest alpha mask prepar scale data final int dwm dest width final int sfxi dwm int long src width dwm final int dhm dest height final int sfyi dhm int long src height dhm prepar sourc relat data final int sbpp stype switch src depth case sbpp stype break case sbpp stype src order break case sbpp stype break case sbpp stype src order break default throw illeg argument invalid sourc type return int spr src src stride src sbpp prepar destin relat data final int dbpp dtype switch dest depth case dbpp dtype break case dbpp dtype dest order break case dbpp dtype break case dbpp dtype dest order break default throw illeg argument invalid destin type return int dpr flip dest dhm dest dest stride flip dest dwm dest dbpp final int dprxi flip dbpp dbpp final int dpryi flip dest stride dest stride prepar special process data int apr switch alpha mode case case alpha data null alpha mode apr alpha alpha stride alpha break case alpha data null alpha mode alpha stride apr alpha alpha stride alpha break case throw illeg argument invalid alpha type return case alpha data null alpha mode apr break default alpha mode alpha mode prescal case apr break els alpha mode apr blit int dpr int spr alpha mode stype dtype src red mask dest red mask src green mask dest green mask src blue mask dest blue mask src alpha mask dest alpha mask fast blit straight copi switch sbpp case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi dest data src data sfx break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi dest data src data dest data src data sfx break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi dest data src data dest data src data dest data src data sfx break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi dest data src data dest data src data dest data src data dest data src data sfx break return comprehens blit appli transform final int src red shift channel shift src red mask final byte src red channel width src red mask src red shift final int src green shift channel shift src green mask final byte src green channel width src green mask src green shift final int src blue shift channel shift src blue mask final byte src blue channel width src blue mask src blue shift final int src alpha shift channel shift src alpha mask final byte src alpha channel width src alpha mask src alpha shift final int dest red shift channel shift dest red mask final int dest red width channel width dest red mask dest red shift final byte dest red dest red width final int dest red pre shift dest red width final int dest green shift channel shift dest green mask final int dest green width channel width dest green mask dest green shift final byte dest green dest green width final int dest green pre shift dest green width final int dest blue shift channel shift dest blue mask final int dest blue width channel width dest blue mask dest blue shift final byte dest blue dest blue width final int dest blue pre shift dest blue width final int dest alpha shift channel shift dest alpha mask final int dest alpha width channel width dest alpha mask dest alpha shift final byte dest alpha dest alpha width final int dest alpha pre shift dest alpha width int apr alpha alpha mode int int int dest height sfi sfyi spr sfi src stride apr sfi alpha stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi switch stype case final int data src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break switch alpha mode case alpha alpha data xff sfx break case alpha break case alpha alpha data sfx break case alpha alpha data sfx break case alpha int alpha data length alpha data alpha data alpha data alpha break break alpha alpha continu switch dtype case final int data dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break perform alpha blend alpha alpha alpha alpha final int data dest red pre shift dest red shift dest green pre shift dest green shift dest blue pre shift dest blue shift dest alpha pre shift dest alpha shift switch dtype case dest data byte data break case dest data byte data dest data byte data xff break case dest data byte data xff dest data byte data break case dest data byte data dest data byte data dest data byte data xff break case dest data byte data dest data byte data dest data byte data dest data byte data xff break case dest data byte data xff dest data byte data dest data byte data dest data byte data break blit index palett imag index palett imag note sourc destin red green blue array null alpha blend dither perform param blitter oper combin xxx flag xxx constant param src data sourc byte array imag data param src depth sourc depth param src stride sourc number byte line param src order sourc byte order ignor src depth param src top left coord sourc blit region param src top left coord sourc blit region param src width width sourc blit region param src height height sourc blit region param src red sourc palett red compon intens param src green sourc palett green compon intens param src blue sourc palett blue compon intens param alpha mode alpha blend mask mode integ global alpha ignor specifi blitter oper xxx constant param alpha data alpha blend mask data vari depend valu alpha mode sometim ignor param alpha stride alpha data number byte line param alpha top left coord alpha blit region param alpha top left coord alpha blit region param dest data destin byte array imag data param dest depth destin depth param dest stride destin number byte line param dest order destin byte order ignor dest depth param dest top left coord destin blit region param dest top left coord destin blit region param dest width width destin blit region param dest height height destin blit region param dest red destin palett red compon intens param dest green destin palett green compon intens param dest blue destin palett blue compon intens param flip true result imag flip vertic axi param flip true result imag flip horizont axi static void blit int byte src data int src depth int src stride int src order int src int src int src width int src height byte src red byte src green byte src blue int alpha mode byte alpha data int alpha stride int alpha int alpha byte dest data int dest depth int dest stride int dest order int dest int dest int dest width int dest height byte dest red byte dest green byte dest blue boolean flip boolean flip dest width dest height alpha mode return prepar scale data final int dwm dest width final int sfxi dwm int long src width dwm final int dhm dest height final int sfyi dhm int long src height dhm prepar sourc relat data final int stype switch src depth case stype break case src stride stype break case src stride stype break case src stride stype src order break default throw illeg argument invalid sourc type return int spr src src stride src prepar destin relat data final int dtype switch dest depth case dtype break case dest stride dtype break case dest stride dtype break case dest stride dtype dest order break default throw illeg argument invalid sourc type return int dpr flip dest dhm dest dest stride flip dest dwm dest final int dprxi flip final int dpryi flip dest stride dest stride prepar special process data int apr switch alpha mode case case alpha data null alpha mode apr alpha alpha stride alpha break case alpha data null alpha mode alpha stride apr alpha alpha stride alpha break case case alpha data null alpha mode apr break default alpha mode alpha mode prescal case apr break els alpha mode apr final boolean dither enabl blit int dpr int spr int apr int dest palett size dest depth dest red null dest red length dest palett size dest palett size dest red length byte palett map null boolean exact palett map true switch alpha mode case palett format equival map stype dtype src red dest red src green dest green src blue dest blue palett map break palett suppli suppli suitabl map els src red null dest red null src depth dest depth palett map els palett map byte src depth int mask xff dest depth int palett map length palett map byte mask break case case case case generat palett map int src palett size src depth palett map byte src palett size src red null src red length src palett size src palett size src red length int index src palett size src red xff src green xff src blue xff index int min distanc fffffff int distanc dest palett size dest red xff dest green xff dest blue xff distanc distanc min distanc index distanc break min distanc distanc palett map byte index min distanc exact palett map fals break palett map null exact palett map dither enabl stype dtype alpha mode fast blit copi map switch stype case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi dest data palett map src data xff sfx break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi final int palett map src data els src data sfx dest data byte dest data els dest data byte dest data break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi final int index palett map src data sfx final int shift dest data byte dest data shift index shift break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi final int index palett map src data sfx final int shift dest data byte dest data shift index shift break case int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi final int index palett map src data sfx final int shift dest data byte dest data shift index shift break els convert index mode map mask int dest height sfi sfyi spr sfi src stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi int index switch stype case index src data xff sfx break case index src data els index src data sfx break case index src data sfx break case index src data sfx break case index src data sfx break default return switch alpha mode case final byte mask alpha data sfx mask continu break case final int mask alpha data sfx mask continu break case int alpha data length index alpha data xff break alpha data length continu break case final byte src red index src green index src blue index int alpha data length alpha data alpha data alpha data break alpha data length continu break index palett map index xff switch dtype case dest data byte index break case dest data byte dest data index els dest data byte dest data index break case final int shift dest data byte dest data shift index shift break case final int shift dest data byte dest data shift index shift break case final int shift dest data byte dest data shift index shift break return comprehens blit appli transform int alpha alpha mode int index int indexq int lastindex lastr lastg lastb final int rerr gerr berr dither enabl rerr int dest width gerr int dest width berr int dest width els rerr null gerr null berr null int dest height sfi sfyi spr sfi src stride apr sfi alpha stride sfi sfi xffff sfyi dpr dpryi int lrerr lgerr lberr int dest width sfx sfxi dprxi sfx sfx xffff sfxi switch stype case index src data xff sfx break case index src data els index src data sfx break case index src data sfx break case index src data sfx break case index src data sfx break int src red index xff src green index xff src blue index xff switch alpha mode case alpha alpha data xff sfx break case alpha alpha data sfx break case alpha alpha data sfx break case speed binari search sort indic int alpha data length index alpha data xff break alpha data length continu break case int alpha data length alpha data xff alpha data xff alpha data xff break alpha data length continu break alpha alpha continu switch dtype case indexq dest data xff break case indexq dest data els indexq dest data break case indexq dest data break case indexq dest data break case indexq dest data break perform alpha blend final int dest red indexq xff final int dest green indexq xff final int dest blue indexq xff alpha alpha alpha dither enabl floyd steinberg error diffus rerr els gerr els berr els rerr lrerr gerr lgerr berr lberr lastr lastg lastb move variabl declar happier int distanc min distanc fffffff dest palett size dest red xff dest green xff dest blue xff distanc distanc min distanc lastindex distanc break min distanc distanc lastr lastg lastb dither enabl floyd steinberg error diffus cont final int dxm dxp int acc rerr dxp acc lrerr dest red lastindex xff lrerr lrerr rerr acc lrerr lrerr rerr dxm acc lrerr lrerr gerr dxp acc lgerr dest green lastindex xff lgerr lgerr gerr acc lgerr lgerr gerr dxm acc lgerr lgerr berr dxp acc lberr dest blue lastindex xff lberr lberr berr acc lberr lberr berr dxm acc lberr lberr switch dtype case dest data byte lastindex break case dest data byte dest data lastindex els dest data byte dest data lastindex break case final int shift dest data byte dest data shift lastindex shift break case final int shift dest data byte dest data shift lastindex shift break case final int shift dest data byte dest data shift lastindex shift break blit index palett imag direct palett imag note sourc destin mask palett alway fulli specifi param blitter oper combin xxx flag xxx constant param src data sourc byte array imag data param src depth sourc depth param src stride sourc number byte line param src order sourc byte order ignor src depth param src top left coord sourc blit region param src top left coord sourc blit region param src width width sourc blit region param src height height sourc blit region param src red sourc palett red compon intens param src green sourc palett green compon intens param src blue sourc palett blue compon intens param alpha mode alpha blend mask mode integ global alpha ignor specifi blitter oper xxx constant param alpha data alpha blend mask data vari depend valu alpha mode sometim ignor param alpha stride alpha data number byte line param alpha top left coord alpha blit region param alpha top left coord alpha blit region param dest data destin byte array imag data param dest depth destin depth param dest stride destin number byte line param dest order destin byte order ignor dest depth param dest top left coord destin blit region param dest top left coord destin blit region param dest width width destin blit region param dest height height destin blit region param dest red mask destin red channel mask param dest green mask destin green channel mask param dest blue mask destin blue channel mask param flip true result imag flip vertic axi param flip true result imag flip horizont axi static void blit int byte src data int src depth int src stride int src order int src int src int src width int src height byte src red byte src green byte src blue int alpha mode byte alpha data int alpha stride int alpha int alpha byte dest data int dest depth int dest stride int dest order int dest int dest int dest width int dest height int dest red mask int dest green mask int dest blue mask boolean flip boolean flip dest width dest height alpha mode return suppli param final int dest alpha mask prepar scale data final int dwm dest width final int sfxi dwm int long src width dwm final int dhm dest height final int sfyi dhm int long src height dhm prepar sourc relat data final int stype switch src depth case stype break case src stride stype break case src stride stype break case src stride stype src order break default throw illeg argument invalid sourc type return int spr src src stride src prepar destin relat data final int dbpp dtype switch dest depth case dbpp dtype break case dbpp dtype dest order break case dbpp dtype break case dbpp dtype dest order break default throw illeg argument invalid destin type return int dpr flip dest dhm dest dest stride flip dest dwm dest dbpp final int dprxi flip dbpp dbpp final int dpryi flip dest stride dest stride prepar special process data int apr switch alpha mode case case alpha data null alpha mode apr alpha alpha stride alpha break case alpha data null alpha mode alpha stride apr alpha alpha stride alpha break case case alpha data null alpha mode apr break default alpha mode alpha mode prescal case apr break els alpha mode apr comprehens blit appli transform final int dest red shift channel shift dest red mask final int dest red width channel width dest red mask dest red shift final byte dest red dest red width final int dest red pre shift dest red width final int dest green shift channel shift dest green mask final int dest green width channel width dest green mask dest green shift final byte dest green dest green width final int dest green pre shift dest green width final int dest blue shift channel shift dest blue mask final int dest blue width channel width dest blue mask dest blue shift final byte dest blue dest blue width final int dest blue pre shift dest blue width final int dest alpha shift channel shift dest alpha mask final int dest alpha width channel width dest alpha mask dest alpha shift final byte dest alpha dest alpha width final int dest alpha pre shift dest alpha width int dpr int spr int apr alpha alpha mode int index int int dest height sfi sfyi spr sfi src stride apr sfi alpha stride sfi sfi xffff sfyi dpr dpryi int dest width sfx sfxi dprxi sfx sfx xffff sfxi switch stype case index src data xff sfx break case index src data els index src data sfx break case index src data sfx break case index src data sfx break case index src data sfx break src red index xff src green index xff src blue index xff switch alpha mode case alpha alpha data xff sfx break case alpha alpha data sfx break case alpha alpha data sfx break case speed binari search sort indic int alpha data length index alpha data xff break alpha data length continu break case int alpha data length alpha data xff alpha data xff alpha data xff break alpha data length continu break alpha alpha continu switch dtype case final int data dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break case final int data dest data xff dest data xff dest data xff dest data xff dest red data dest red mask dest red shift xff dest green data dest green mask dest green shift xff dest blue data dest blue mask dest blue shift xff dest alpha data dest alpha mask dest alpha shift xff break perform alpha blend alpha alpha alpha alpha final int data dest red pre shift dest red shift dest green pre shift dest green shift dest blue pre shift dest blue shift dest alpha pre shift dest alpha shift switch dtype case dest data byte data break case dest data byte data dest data byte data xff break case dest data byte data xff dest data byte data break case dest data byte data dest data byte data dest data byte data xff break case dest data byte data dest data byte data dest data byte data dest data byte data xff break case dest data byte data xff dest data byte data dest data byte data dest data byte data break blit direct palett imag index palett imag note sourc destin mask palett alway fulli specifi param blitter oper combin xxx flag xxx constant param src data sourc byte array imag data param src depth sourc depth param src stride sourc number byte line param src order sourc byte order ignor src depth param src top left coord sourc blit region param src top left coord sourc blit region param src width width sourc blit region param src height height sourc blit region param src red mask sourc red channel mask param src green mask sourc green channel mask param src blue mask sourc blue channel mask param alpha mode alpha blend mask mode integ global alpha ignor specifi blitter oper xxx constant param alpha data alpha blend mask data vari depend valu alpha mode sometim ignor param alpha stride alpha data number byte line param alpha top left coord alpha blit region param alpha top left coord alpha blit region param dest data destin byte array imag data param dest depth destin depth param dest stride destin number byte line param dest order destin byte order ignor dest depth param dest top left coord destin blit region param dest top left coord destin blit region param dest width width destin blit region param dest height height destin blit region param dest red destin palett red compon intens param dest green destin palett green compon intens param dest blue destin palett blue compon intens param flip true result imag flip vertic axi param flip true result imag flip horizont axi static void blit int byte src data int src depth int src stride int src order int src int src int src width int src height int src red mask int src green mask int src blue mask int alpha mode byte alpha data int alpha stride int alpha int alpha byte dest data int dest depth int dest stride int dest order int dest int dest int dest width int dest height byte dest red byte dest green byte dest blue boolean flip boolean flip dest width dest height alpha mode return suppli param final int src alpha mask prepar scale data final int dwm dest width final int sfxi dwm int long src width dwm final int dhm dest height final int sfyi dhm int long src height dhm prepar sourc relat data final int sbpp stype switch src depth case sbpp stype break case sbpp stype src order break case sbpp stype break case sbpp stype src order break default throw illeg argument invalid sourc type return int spr src src stride src sbpp prepar destin relat data final int dtype switch dest depth case dtype break case dest stride dtype break case dest stride dtype break case dest stride dtype dest order break default throw illeg argument invalid sourc type return int dpr flip dest dhm dest dest stride flip dest dwm dest final int dprxi flip final int dpryi flip dest stride dest stride prepar special process data int apr switch alpha mode case case alpha data null alpha mode apr alpha alpha stride alpha break case alpha data null alpha mode alpha stride apr alpha alpha stride alpha break case throw illeg argument invalid alpha type return case alpha data null alpha mode apr break default alpha mode alpha mode prescal case apr break els alpha mode apr final boolean dither enabl comprehens blit appli transform final int src red shift channel shift src red mask final byte src red channel width src red mask src red shift final int src green shift channel shift src green mask final byte src green channel width src green mask src green shift final int src blue shift channel shift src blue mask final byte src blue channel width src blue mask src blue shift final int src alpha shift channel shift src alpha mask final byte src alpha channel width src alpha mask src alpha shift int dpr int spr int apr alpha alpha mode int int indexq int lastindex lastr lastg lastb final int rerr gerr berr int dest palett size dest depth dest red null dest red length dest palett size dest palett size dest red length dither enabl rerr int dest width gerr int dest width berr int dest width els rerr null gerr null berr null int dest height sfi sfyi spr sfi src stride apr sfi alpha stride sfi sfi xffff sfyi dpr dpryi int lrerr lgerr lberr int dest width sfx sfxi dprxi sfx sfx xffff sfxi switch stype case final int data src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break case final int data src data xff src data xff src data xff src data xff sfx src red data src red mask src red shift xff src green data src green mask src green shift xff src blue data src blue mask src blue shift xff src alpha data src alpha mask src alpha shift xff break switch alpha mode case alpha alpha data xff sfx break case alpha break case alpha alpha data sfx break case alpha alpha data sfx break case alpha int alpha data length alpha data alpha data alpha data alpha break break alpha alpha continu switch dtype case indexq dest data xff break case indexq dest data els indexq dest data break case indexq dest data break case indexq dest data break case indexq dest data break perform alpha blend final int dest red indexq xff final int dest green indexq xff final int dest blue indexq xff alpha alpha alpha dither enabl floyd steinberg error diffus rerr els gerr els berr els rerr lrerr gerr lgerr berr lberr lastr lastg lastb move variabl declar happier int distanc min distanc fffffff dest palett size dest red xff dest green xff dest blue xff distanc distanc min distanc lastindex distanc break min distanc distanc lastr lastg lastb dither enabl floyd steinberg error diffus cont final int dxm dxp int acc rerr dxp acc lrerr dest red lastindex xff lrerr lrerr rerr acc lrerr lrerr rerr dxm acc lrerr lrerr gerr dxp acc lgerr dest green lastindex xff lgerr lgerr gerr acc lgerr lgerr gerr dxm acc lgerr lgerr berr dxp acc lberr dest blue lastindex xff lberr lberr berr acc lberr lberr berr dxm acc lberr lberr switch dtype case dest data byte lastindex break case dest data byte dest data lastindex els dest data byte dest data lastindex break case final int shift dest data byte dest data shift lastindex shift break case final int shift dest data byte dest data shift lastindex shift break case final int shift dest data byte dest data shift lastindex shift break comput requir channel shift mask static int channel shift int mask mask return int mask mask return comput requir channel width depth mask static int channel width int mask int shift mask return int mask shift shift mask mask return shift extract field pack data mask field static byte channel field int data int mask final int shift channel shift mask return channel width mask shift data mask shift creat imag data band worth gradient fill block code vertic code true band tile horizont fill region otherwis tile vertic param width width region fill param height height region fill param vertic true sweep top bottom els sweep left param color start param color param red bit number signific red bit palett mode param green bit number signific green bit palett mode param blue bit number signific blue bit palett mode return imag data static imag data creat gradient band int width int height boolean vertic int red bit int green bit int blue bit gradient drawn tile band final int band width band height bitmap depth final byte bitmap data final palett data palett data select algorithm depend depth screen red bit green bit blue bit palett data palett data xff bitmap depth red bit green bit blue bit precis color final int step vertic band width band height height step band height band height els band width width band height step band width band width final int byte line band width bitmap data byte band height byte line build precis gradient channel blue blue step band width band height vertic bitmap data byte line build precis gradient channel green green step band width band height vertic bitmap data byte line build precis gradient channel red red step band width band height vertic bitmap data byte line els dither color final int step vertic band width width width band height height step band height band height els band width width band height height height step band width band width final int byte line band width bitmap data byte band height byte line build dither gradient channel blue blue step band width band height vertic bitmap data byte line blue bit build dither gradient channel green green step band width band height vertic bitmap data byte line green bit build dither gradient channel red red step band width band height vertic bitmap data byte line red bit els dither tone palett data palett data bitmap depth final int blendi vertic band width width width band height height blendi band height band height els band width width band height height height blendi band width band width final int byte line band width bitmap data byte band height byte line vertic int blend band height blend blendi byte line int band width bitmap data blend byte byte els int blend band width blend blendi int dptr band height dptr byte line bitmap data dptr blend byte byte return imag data band width band height bitmap depth palett data bitmap data fill gradat valu color channel static final void build precis gradient channel int int int step int band width int band height boolean vertic byte bitmap data int int byte line int val final int val step vertic int band height byte line bitmap data byte val val els int band width bitmap data byte val val fill dither gradat valu color channel static final void build dither gradient channel int int int step int band width int band height boolean vertic byte bitmap data int int byte line int bit final int mask xff bit int val final int val step vertic int band height byte line int dptr band width dptr final int thresh bit int temp val thresh temp xffffff bitmap data dptr els bitmap data dptr byte temp mask val els int band width int dptr band height dptr byte line final int thresh bit int temp val thresh temp xffffff bitmap data dptr els bitmap data dptr byte temp mask val render gradient helper param render gradient param devic devic belong param top left coordin region fill param top left coordin region fill param width width region fill param height height region fill param vertic true sweep top bottom els sweep left param color start param color param red bit number signific red bit palett mode param green bit number signific green bit palett mode param blue bit number signific blue bit palett mode static void fill gradient rectangl devic devic int int int width int height boolean vertic int red bit int green bit int blue bit creat bitmap tile imag data band creat gradient band width height vertic red bit green bit blue bit imag imag imag devic band band width band height draw imag imag band width band height width height els vertic int width band width int blit width width blit width band width blit width band width draw imag imag blit width band height blit width band height els int height band height int blit height height blit height band height blit height band height draw imag imag band width blit height band width blit height imag dispos 