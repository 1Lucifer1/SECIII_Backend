copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt widget import org eclips swt intern win import org eclips swt import org eclips swt graphic class imag list int handl style ref count imag imag static final int static win els int flag app theme flag els int int bit devic cap int plane devic cap releas int depth bit plane switch depth case flag break case flag break case flag break case flag break case flag break default flag flag public imag list int style style style int flag style flag handl imag list creat flag imag imag public int add imag imag int count imag list imag count handl int index index count imag index null imag index dispos imag index null imag index null break index count rectangl rect imag bound imag list set icon size handl rect width rect height set index imag count index imag length imag imag imag imag length system arraycopi imag imag imag length imag imag imag index imag return index int add ref return ref count int copi bitmap int imag int width int height object imag sizeof int int hdc creat compat select object hdc imag int hdc creat compat int bitmap creat compat bitmap width height select object hdc bitmap width width height height win set stretch blt mode hdc stretch blt hdc width height hdc width height els bit blt hdc width height hdc delet hdc delet hdc releas return bitmap int copi icon int imag int width int height win error int icon copi imag imag width height return icon icon imag int copi alpha int bitmap int background byte alpha data int dest width int dest height object bitmap sizeof int src width width int src height height creat resourc int hdc int src hdc creat compat hdc int src bitmap select object src hdc bitmap int mem hdc creat compat hdc bmi header bmi header size sizeof bmi header width math max src width dest width bmi header height math max src height dest height bmi header plane bmi header bit count bmi header compress byte bmi byte sizeof move memori bmi bmi header sizeof int bit int int mem dib creat section bmi bit mem dib error int mem bitmap select object mem hdc mem dib dib object mem dib sizeof dib int size byte dib width byte dib height foreground pixel bit blt mem hdc src width src height src hdc byte src data byte size byte move memori src data dib bit size byte merg alpha channel place alpha data null int spinc dib width byte src width int int src height int src width src data alpha data spinc els byte tran red byte background byte tran green byte background byte tran blue byte background final int spinc dib width byte src width int int src height int src width src data src data tran red src data tran green src data tran blue byte spinc move memori dib bit src data size byte stretch src width dest width src height dest height set stretch blt mode mem hdc stretch blt mem hdc dest width dest height mem hdc src width src height free resourc select object mem hdc mem bitmap delet mem hdc select object src hdc src bitmap delet src hdc releas hdc return mem dib int creat mask int bitmap int dest width int dest height int background int transpar pixel object bitmap sizeof int src width width int src height height int mask creat bitmap dest width dest height null int int hdc creat compat background select object hdc bitmap imag palett multipl entri color entri transpar pixel onli entri becom transpar avoid problem temporarili chang imag palett palett transpar pixel white everyth els black boolean dib bit byte origin color null win transpar pixel dib bit pixel int max color bit pixel byte color byte max color color tabl hdc max color color int offset transpar pixel byte color byte color length color offset byte color offset byte color offset byte set color tabl hdc max color color origin color color set color hdc els set color hdc background int hdc creat compat select object hdc mask dest width src width dest height src height win set stretch blt mode hdc stretch blt hdc dest width dest height hdc src width src height els bit blt hdc dest width dest height hdc delet hdc put origin palett origin color null set color tabl hdc bit pixel origin color els int bitmap select object hdc mask pat blt hdc dest width dest height select object hdc bitmap releas delet hdc return mask public void dispos handl imag list destroy handl handl imag null public imag int index return imag index public int style return style public int handl return handl public point imag size int int int imag list icon size handl return point public int index imag imag int count imag list imag count handl int count imag null imag dispos imag null imag null imag equal imag return return public void put int index imag imag int count imag list imag count handl index index count return imag null set index imag count imag index imag public void remov int index int count imag list imag count handl index index count return imag list remov handl index system arraycopi imag index imag index count index imag index null int remov ref return ref count void set int index imag imag int count int imag imag handl int int int imag list icon size handl switch imag type case note imag size match imag list icon size int bitmap mask imag data data imag imag data switch data transpar type case bitmap copi alpha imag data alpha data els bitmap copi bitmap imag mask display creat mask alpha data break case int background color color imag background color null background color handl bitmap copi bitmap imag mask creat mask imag background data transpar pixel break case default bitmap copi bitmap imag index count mask creat mask imag break index count imag list add handl bitmap mask els note mask alway replac imag list replac handl index bitmap mask mask delet object mask bitmap imag delet object bitmap break case win imag list replac icon handl index count index imag els int icon copi icon imag imag list replac icon handl index count index icon destroy icon icon break public int size int result int count imag list imag count handl int count imag null imag dispos imag null imag null result return result 