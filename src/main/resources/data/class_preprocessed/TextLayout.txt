copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt graphic import org eclips swt intern import org eclips swt intern win import org eclips swt code text layout code graphic object repres style text instanc class provid support draw cursor navig hit test text wrap align tab expans line break aspect requir render internation text applic code explicit invok code text layout dispos code method releas oper system resourc manag instanc instanc longer requir sinc public final class text layout extend resourc font font string text segment text int line space int ascent descent int align int wrap width int orient int tab int segment style item style style item run style item run int line offset line line width int lang font link static final char static final int static final int static final byte multi languag byte static final byte lang font link byte static string fea char array multi languag string char array lang font link class style item text style style int start length boolean line break soft break tab script cach analysi analysi int psc shape info malloc run shape int glyph int glyph count int cluster int vis attr place info malloc run place int advanc int goffset int width int ascent int descent int lead int script break int psla int fallback font void free int heap process heap psc script free cach psc heap free heap psc psc glyph heap free heap glyph glyph glyph count cluster heap free heap cluster cluster vis attr heap free heap vis attr vis attr advanc heap free heap advanc advanc goffset heap free heap goffset goffset psla heap free heap psla psla fallback font lang font link releas font vtbl call lang font link fallback font fallback font width ascent descent line break soft break fals construct instanc class devic dispos text layout longer requir param devic devic alloc text layout illeg argument devic null current devic dispos public text layout devic devic devic null devic devic devic devic null error devic devic wrap width ascent descent line space orient style style item style style item style style item text int ppv int ole initi creat instanc multi languag lang font link ppv lang font link ppv devic track devic object void break run style item run run psla return char char char run length segment text char run start run start run length char int heap process heap run psla heap alloc heap sizeof char length script break char char length run analysi run psla void check item int style item item item fallback font featur window fallback font return lang servic dispos client run thread exampl dispos browser widget intern releas font lang cach fix object detect font dispos reshap run log font unicod object item fallback font sizeof log font item free select object item font item shape item void check layout dispos error comput run item shape place reorder run break paragraph line wrap text initi cach void comput run run null return int null handl devic intern null int src hdc creat compat run item int run length style item run run select object src hdc item font run shape src hdc run log attr properti int line width line start line count int run length style item run run run length char segment text char run start switch case run tab true tab null break int tab length tab length tab length tab line width run width tab line width break tab length int tab tab tab length int tab width tab length tab tab length tab tab length tab tab width tab line width tab tab width run width tab line width break case run line break true break case run line break true style item run length segment text char start run length free break wrap width line width run width wrap width run tab int start int int run length script logic width run analysi run length run glyph count run advanc run cluster run vis attr int width max width wrap width line width width start max width width start int start start int indic line start break run run start move memori log attr run psla start sizeof sizeof log attr soft break log attr white space break start bug window reason uniscrib set soft break flag letter letter accent caus break line set middl word fix detect case ignor soft break forc algorithm search start line start run tab log attr soft break log attr white space move memori properti devic script run analysi script sizeof int lang properti langid style item run run move memori properti devic script run analysi script sizeof properti langid lang lang properti langid break run run move memori log attr run psla run length sizeof sizeof log attr white space start start line start break run run start run length start line start run tab run run els start line start indic run run start math max start break run run start run length move memori log attr run psla start sizeof sizeof log attr white space break start start start run length style item run style item run start run start start run length run length start run style run style run analysi run analysi run free run length start select object src hdc item font run shape src hdc run select object src hdc item font run shape src hdc run style item run style item run length system arraycopi run run system arraycopi run run run length run run run run run length run soft break run line break true line width run width run line break line start line width line count line width run style item line count line offset int line count line int line count line width int line count int line run count line int ascent math max ascent int descent math max descent style item line run style item run length int run length style item run run line run line run count run line width run width ascent math max ascent run ascent descent math max descent run descent run line break run length updat run metric run hard break line run count run length lptm unicod select object src hdc item font run text metric src hdc lptm run ascent lptm ascent run descent lptm descent ascent math max ascent run ascent descent math max descent run descent run line style item line run count system arraycopi line run run line line run count style item run run line line run count run line reorder run line line width line line width line width wrap width switch align case line width wrap width line width line break case line width wrap width line width line break int run line length run line line width line width run line width line line line line line ascent descent line space line offset line run start run length line run count line width ascent math max ascent descent math max descent src hdc delet src hdc null devic intern dispos null dispos oper system resourc associ text layout applic dispos alloc text layout public void dispos devic null return free run font null text null segment text null tab null style null run null line offset null line null line width null lang font link releas vtbl call lang font link lang font link ole uniniti devic track devic dispos object devic null draw receiv text specifi specifi point param draw param coordin top left corner rectangular area text drawn param coordin top left corner rectangular area text drawn receiv dispos illeg argument null public void draw int int draw null null draw receiv text specifi specifi point param draw param coordin top left corner rectangular area text drawn param coordin top left corner rectangular area text drawn param select start offset select start indic select param select offset select indic select param select foreground select foreground system default color param select background select background system default color receiv dispos illeg argument null public void draw int int int select start int select color select foreground color select background check layout comput run null error dispos error select foreground null select foreground dispos error select background null select background dispos error int length text length length return int hdc handl boolean select select start select select start select select select start math min math max select start length select math min math max select length select foreground null select foreground devic system color select background null select background devic system color select start translat offset select start select translat offset select int foreground text color hdc int state save hdc rect int sel brush sel pen select sel brush creat solid brush select background handl sel pen creat pen select foreground handl int rop win rop set hdc set hdc rop els rop hdc int rop rop set mode hdc rectangl clip clip int line line run length line int draw draw line line wrap width switch align case draw wrap width line width line break case draw wrap width line width line break draw clip clip width continu draw line width line clip continu style item line run run line int baselin math max ascent int line run length baselin math max baselin line run ascent int line height line line line line int align draw int line run length style item run line run run length continu draw clip clip width break draw run width clip run line break run soft break int run start run length boolean full select select select start run start select full select select object hdc sel brush pat blt hdc draw draw run width line height rop els run style null run style background null int run style background handl int draw run draw baselin run ascent int brush creat solid brush int brush select object hdc brush pat blt hdc draw draw run run width run ascent run descent rop select object hdc brush delet object brush boolean partial select select select start run start select partial select select object hdc sel brush int sel start math max select start run start run start int sel math min select run start int char run length int glyph run glyph count int int script pto sel start fals char glyph run cluster run vis attr run advanc run analysi int run orient run width rect left draw run rect top draw script pto sel true char glyph run cluster run vis attr run advanc run analysi run orient run width rect draw run rect bottom draw line height pat blt hdc rect left rect top rect rect left rect bottom rect top rop draw run width draw align int line run length style item run line run run length continu draw clip clip width break draw run width clip run tab run line break run soft break int run start run length int foreground boolean full select select select start run start select full select select foreground handl els run style null run style foreground null run style foreground handl set text color hdc check item hdc run select object hdc item font run int draw run draw baselin run ascent script text hdc run psc draw draw run null run analysi run glyph run glyph count run advanc null run goffset run style null run style underlin run style strikeout int pen select select foreground handl sel pen creat pen int pen select object hdc pen run style underlin int underlin draw baselin move hdc draw underlin line hdc draw run width underlin run style strikeout int strikeout draw run run lead run ascent move hdc draw strikeout line hdc draw run width strikeout select object hdc pen select select foreground handl delet object pen boolean partial select select select start run start select full select partial select select foreground handl set text color hdc select foreground handl int sel start math max select start run start run start int sel math min select run start int char run length int glyph run glyph count int int script pto sel start fals char glyph run cluster run vis attr run advanc run analysi int run orient run width rect left draw run rect top draw script pto sel true char glyph run cluster run vis attr run advanc run analysi run orient run width rect draw run rect bottom draw line height script text hdc run psc draw draw run rect run analysi run glyph run glyph count run advanc null run goffset run style null run style underlin run style strikeout int pen select object hdc sel pen run style underlin int underlin draw baselin move hdc rect left underlin line hdc rect underlin run style strikeout int strikeout draw run run lead run ascent move hdc rect left strikeout line hdc rect strikeout select object hdc pen draw run width restor hdc state sel brush delet object sel brush sel pen delet object sel pen void free run run null return int run length style item run run run free run null run null segment text null return receiv horizont text align code code code code code code return align posit text horizont receiv dispos public int align check layout return align return ascent receiv return ascent receiv dispos descent set descent int set ascent int line metric int public int ascent check layout return ascent return bound receiv return bound receiv receiv dispos public rectangl bound check layout comput run null int width wrap width width wrap width els int line line run length line width math max width line width line return rectangl width line line length return bound specifi rang charact bound smallest rectangl encompass charact rang start offset inclus clamp rang param start start offset param offset return bound charact rang receiv dispos public rectangl bound int start int check layout comput run null int length text length length return rectangl start return rectangl start math min math max start length math min math max length start translat offset start translat offset int left fffffff int top fffffff bottom int line index boolean orient int run length style item run run int run run start run length run line break line index run start continu run start break int run lead run int run trail run run width run start start start run int run tab int int script pto start run start fals run length run glyph count run cluster run vis attr run advanc run analysi run width run analysi run trail run els run lead run run start run int run width run tab int int script pto run start true run length run glyph count run cluster run vis attr run advanc run analysi run width run analysi run lead run els run trail run left math min left run lead math max run trail top math min top line run line break line index line index bottom math max bottom line run line break line index line index return rectangl left top left bottom top return descent receiv return descent receiv dispos ascent set ascent int set descent int line metric int public int descent check layout return descent return default font current receiv draw measur text return receiv font receiv dispos public font font check layout return font int item font style item item item fallback font return item fallback font item style null item style font null return item style font handl font null return font handl return devic system font return embed level specifi charact offset embed level usual determin direct charact bidirect text param offset charect offset return embed level illeg argument charact offset rang receiv dispos public int level int offset check layout comput run null int length text length offset offset length error offset translat offset offset int run length run start offset return run analysi bidi level return orient return bound line specifi line index param line index line index return line bound illeg argument line index rang receiv dispos public rectangl line bound int line index check layout comput run null line index line index run length error int line line index int width line width line index height line line index wrap width switch align case wrap width width break case wrap width width break return rectangl width height return receiv line count includ line caus wrap return line count receiv dispos public int line count check layout comput run null return run length return index line specifi charact offset param offset charact offset return line index illeg argument charact offset rang receiv dispos public int line index int offset check layout comput run null int length text length offset offset length error offset translat offset offset int line line run length line line offset line offset return line return run length return font metric specifi line index param line index line index return font metric illeg argument line index rang receiv dispos public font metric line metric int line index check layout comput run null line index line index run length error int devic intern null int src hdc creat compat lptm unicod text length select object src hdc font null font handl devic system font text metric src hdc lptm lptm ascent math max lptm ascent ascent lptm descent math max lptm descent descent els int ascent ascent descent descent lead ave char width height style item line run run line index int line run length style item run line run check item src hdc run select object src hdc item font run text metric src hdc lptm ascent math max ascent lptm ascent descent math max descent lptm descent height math max height lptm height lead math max lead lptm intern lead ave char width lptm ave char width lptm ascent ascent lptm descent descent lptm height height lptm intern lead lead lptm ave char width ave char width line run length src hdc delet src hdc devic intern dispos null return font metric win lptm return line offset valu array offset charact line valu length text return line offset receiv dispos public int line offset check layout comput run null int offset int line offset length int offset length offset untransl offset line offset return offset return locat specifi charact offset code trail code argument indic offset correspond lead trail edg cluster param offset charact offset param trail trail flag return locat charact offset receiv dispos offset point int offset int int int public point locat int offset boolean trail check layout comput run null int length text length offset offset length error length segment text length offset translat offset offset int line line line run length line line offset line offset break line math min line run length style item line run run line point result null offset length result point line width line line line els int width int line run length style item run line run int run start run length run start offset offset run tab trail offset length width run width result point width line line els int run offset offset run start int char run length int glyph run glyph count int int script pto run offset trail char glyph run cluster run vis attr run advanc run analysi orient result point width run width line line els result point width line line break width run width result null result point wrap width switch align case result wrap width line width line break case result wrap width line width line break return result return offset specifi offset movement type movement code code code code code code param offset start offset param movement movement type return offset illeg argument offset rang receiv dispos previous offset int int public int offset int offset int movement check layout return offset offset movement true int offset int offset int movement boolean comput run null int length text length offset offset length error offset length return length offset return int step movement return offset step length segment text length offset translat offset offset log attr properti int run length offset validad offset offset step style item run run run start offset offset run start run length run line break run soft break return untransl offset run start run tab return untransl offset run start move memori properti devic script run analysi script sizeof boolean complex properti caret info properti word break complex break run run run start offset offset run start run length complex move memori log attr run psla offset run start sizeof sizeof switch movement case properti caret info log attr invalid log attr char stop return untransl offset offset els return untransl offset offset break case properti word break log attr invalid log attr word stop return untransl offset offset els offset boolean letter digit compat letter digit segment text char offset boolean previous letter digit compat letter digit segment text char offset letter digit previous letter digit letter digit compat whitespac segment text char offset return untransl offset offset break offset validad offset offset step step run length offset offset length return text length return charact offset specifi point typic charact trail argument fill indic point closer lead edg trail edg point cluster compos multipl charact trail argument fill posit charact cluster closest point param point point param trail trail buffer return charact offset illeg argument trail length code code point null receiv dispos locat int boolean public int offset point point int trail check layout point null error return offset point point trail return charact offset specifi point typic charact trail argument fill indic point closer lead edg trail edg point cluster compos multipl charact trail argument fill posit charact cluster closest point param coordin point param coordin point param trail trail buffer return charact offset illeg argument trail length code code receiv dispos locat int boolean public int offset int int int trail check layout comput run null trail null trail length error int line int line count run length line line line count line line line break line math min line run length wrap width switch align case wrap width line width line break case wrap width line width line break style item line run run line line width line line width line int width int line run length style item run line run run line break run soft break return untransl offset run start width run width run tab trail null trail width run width return untransl offset run start int char run length int glyph run glyph count int run width int int int trail int orient run run width run script xto run char glyph run cluster run vis attr run advanc run analysi trail trail null trail trail return untransl offset run start width run width trail null trail return untransl offset line offset line return orient receiv return orient style receiv dispos public int orient check layout return orient return previous offset specifi offset movement type movement code code code code code code param offset start offset param movement movement type return previous offset illeg argument offset rang receiv dispos offset int int public int previous offset int offset int movement check layout return offset offset movement fals return text segment offset receiv return text segment offset receiv dispos public int segment check layout return segment string segment text segment null return text int segment segment length segment return text int length text length length return text segment segment segment length return text char char char length text char length char char char char length segment int char count segment count char separ orient char count length segment count segment char count segment segment count char char count segment count separ els char char count segment count char char count segment count segment segment segment count char count char char count segment count separ return string char math min char count segment count char length return line space receiv return line space receiv dispos public int space check layout return line space style receiv specifi charact offset param offset text offset return style code null code set illeg argument charact offset rang receiv dispos public text style style int offset check layout int length text length offset offset length error int style length style start offset return style style return null return tab list receiv return tab list receiv dispos public int tab check layout return tab receiv text empti string set return receiv text receiv dispos public string text check layout return text return width receiv return width receiv dispos public int width check layout return wrap width return code true code text layout dispos code fals code otherwis method dispos state text layout text layout dispos error invok ani method text layout return code true code text layout dispos code fals code otherwis public boolean dispos return devic null item receiv text style item item segment text segment text int length segment text length script control script state final int length orient script state bidi level script state arab num context true int heap process heap int item heap alloc heap sizeof int item int char char char length segment text char length char script item char length script control script state item item handl style item run merg item item heap free heap item return run merg style rang script item style item merg int item int item count int count start segment text length item index style index style item run style item item count style length script item start style item item style item item start start item style style style index style run count item move memori script item item item index sizeof sizeof item analysi script item script item move memori script item item item index sizeof sizeof int item limit script item char pos int style limit translat offset style style index start style limit item limit style index start style limit item limit style limit item index start item limit item length start item start style item item style item item start move memori script item item item count sizeof sizeof item analysi script item run count item run length count style item result style item count system arraycopi run result count return result return run reorder run style item reorder style item run int length run length length return run byte bidi level byte length int length bidi level byte run analysi bidi level featur window orient uniscrib resolv level line break caus line break reorder middl line fix set level prevent reorder style item run run length run line break run soft break bidi level length int log vis int length script layout length bidi level null log vis style item result style item length int length result log vis run orient int length style item tmp result result result length result length tmp return result set text align receiv align control line text posit horizont argument code code code code code code default align code code note receiv width set order code code code code align param align align receiv dispos set width int public void set align int align check layout int mask align mask align return align align align align align align set ascent receiv ascent distanc pixel baselin top line appli line default valu code code ascent calcul line font param ascent ascent illeg argument ascent code code receiv dispos set descent int line metric int public void set ascent int ascent check layout ascent error ascent ascent return free run ascent ascent set descent receiv descent distanc pixel baselin bottom line appli line default valu code code descent calcul line font param descent descent illeg argument descent code code receiv dispos set ascent int line metric int public void set descent int descent check layout descent error descent descent return free run descent descent set default font receiv draw measur text argument null default font appropri platform note text style overrid default font param font font receiv null indic default font illeg argument font dispos receiv dispos public void set font font font check layout font null font dispos error font font return font null font equal font return free run font font set orient receiv code code code code param orient orient style receiv dispos public void set orient int orient check layout int mask orient mask orient return orient orient orient orient return orient orient free run set offset receiv text segment text segment overrid default behaviour bidirect algorithm bidirect reorder happen text segment adjac segment text segment determin consecut offset code segment code array element array alway alway equal length text param segment text segment offset receiv dispos public void set segment int segment check layout segment null segment null return segment null segment null segment length segment length int segment length segment segment break segment length return free run segment segment set line space receiv line space space left line param space line space illeg argument space negat receiv dispos public void set space int space check layout space error line space space return free run line space space set style receiv specifi rang style previous set rang overwritten start offset inclus clamp rang param style style param start start offset param offset receiv dispos public void set style text style style int start int check layout int length text length length return start return start math min math max start length math min math max length int int high style length high int index high start style index start high index els index high high style length style item item style high item start start style high start style null item style null return els style equal item style return free run int count style item style style item style length style length style item item style item start start break style count item style item item style item item start start item style style style count item style start item style item item start item style style style style count item els style length style item item style item start break style start style start style length style item item style item start style count item style length count style style item count system arraycopi style style count els style style set receiv tab list valu tab list specifi space pixel origin text layout respect tab stop tab stop width repeat continu param tab tab list receiv dispos public void set tab int tab check layout tab null tab null return tab null tab null tab length tab length int tab length tab tab break tab length return free run tab tab set receiv text param text text illeg argument text null receiv dispos public void set text string text check layout text null error text equal text return free run text text style style item style style item style style item style start text length set line width receiv determin text wrap align default valu code code wrap disabl param width width illeg argument width code code code code receiv dispos set align int public void set width int width check layout width width error wrap width width return free run wrap width width boolean shape int hdc style item run char char int glyph count int max glyph int script shape hdc run psc char char length max glyph run analysi run glyph run cluster run vis attr glyph count run glyph count glyph count byte sizeof script font properti hdc run psc short glyph short glyph count move memori glyph run glyph glyph length int glyph length glyph default break glyph length return true run psc script free cach run psc glyph count move memori run psc glyph count run glyph count return fals generat glyph run void shape final int hdc final style item run int buffer int char char char run length segment text char run start run start run length char int max glyph char length int heap process heap run glyph heap alloc heap max glyph run cluster heap alloc heap max glyph run vis attr heap alloc heap max glyph run psc heap alloc heap shape hdc run char buffer max glyph lang font link int code page int int cch code page int str code page vtbl call lang font link char char length code page cch code page int font int map font vtbl call lang font link hdc code page char font int font select object hdc font shape hdc run char buffer max glyph run fallback font font els releas font vtbl call lang font link font select object hdc font script shape hdc run psc char char length max glyph run analysi run glyph run cluster run vis attr buffer run glyph count buffer int abc int run advanc heap alloc heap run glyph count run goffset heap alloc heap run glyph count script place hdc run psc run glyph run glyph count run vis attr run analysi run advanc run goffset abc run width abc abc abc lptm unicod text metric hdc lptm run ascent lptm ascent run descent lptm descent run lead lptm intern lead int validad offset int offset int step offset step segment null segment length int segment length translat offset segment offset offset step break return offset return string concis human readabl descript receiv return string represent receiv public string string dispos return text layout return text layout int translat offset int offset segment null return offset int segment segment length segment return offset int length text length length return offset segment segment segment length return offset int segment offset segment offset return offset int untransl offset int offset segment null return offset int segment segment length segment return offset int length text length length return offset segment segment segment length return offset int segment offset segment offset return offset 