copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt widget import org eclips swt intern win import org eclips swt import org eclips swt graphic import org eclips swt event instanc class user interfac object menu item style event hide show note onli specifi onli specifi class intend subclass public class menu extend widget handl resourc warn field platform depend field part public mark public onli share packag provid avail platform access applic code public int handl int hwnd boolean locat menu item cascad decor parent imag list imag list resourc static final int smart phone soft key bar resourc id static final int static final int static final int static final int static final int static final int construct instanc class parent set style instanc instanc popup menu parent shell param parent control parent instanc null illeg argument parent null call thread creat parent class subclass widget check subclass widget style public menu control parent check null parent menu shell construct instanc class parent code decor code style valu describ behavior style valu style constant defin class code code applic instanc class built bitwis ing togeth code int code oper code code style constant class descript list style constant applic class style bit inherit superclass param parent decor control parent instanc null param style style menu construct illeg argument parent null call thread creat parent class subclass widget check subclass widget style public menu decor parent int style parent check style style construct instanc class parent code menu code set style instanc instanc drop menu parent parent param parent menu menu parent instanc null illeg argument parent null call thread creat parent class subclass widget check subclass widget style public menu menu parent menu check null parent menu parent construct instanc class parent code menu item code set style instanc instanc drop menu parent parent menu param parent item menu item parent instanc null illeg argument parent null call thread creat parent class subclass widget check subclass widget style public menu menu item parent item check null parent item parent menu decor parent int style int handl super parent check style style parent parent handl handl bug reason check orient call creat widget issu error subcod occur thread main addit window dialog follow error messag indic problem app java exe app ver mod jitc dll mod ver offset fix call check orient check orient parent creat widget void set visibl boolean visibl style return int hwnd parent parent handl visibl int flag key state flag style flag parent style flag style flag int locat int pos messag pos short pos short pos featur window legal track popup menu display empti menu long menu item ad insid item ad track popup menu fail doe send indic menu close strict bug lead unwant behavior applic code assum everi eventu result param param indic menu close fix detect case track popup menu fail number item menu issu fake boolean success track popup menu handl flag hwnd parent null success menu item count handl send messag hwnd parent els send messag hwnd parent add listen collect listen notifi event generat control send messag defin code listen code interfac param listen listen notifi illeg argument listen null receiv dispos call thread creat receiv listen remov listen public void add listen listen listen check widget listen null error type listen type listen type listen listen add listen type listen add listen collect listen notifi menus hidden shown send messag defin code menu listen code interfac param listen listen notifi illeg argument listen null receiv dispos call thread creat receiv menu listen remov menu listen public void add menu listen menu listen listen check widget listen null error type listen type listen type listen listen add listen hide type listen add listen show type listen static control check null control control control null error return control static menu check null menu menu menu null error return menu static menu item check null menu item item item null error return item static int check style int style return check bit style void creat handl handl return style int hwnd shell parent handl mbi mbi size sizeof mbi hwnd parent hwnd shell mbi flag mbi tool bar mbi inst res librari handl boolean success creat menu bar mbi hwnd mbi hwnd success error remov item resourc file send messag hwnd return note win smart phone soft bar onli item item menu button creat soft bar menus creat soft bar button button menu button creat soft bar button determin type menubar int tool bar style tool bar style els tool bar style creat mbi mbi size sizeof mbi hwnd parent parent handl mbi flag mbi tool bar tool bar defin file mbi inst res librari handl creat menu bar mbi error hwnd mbi hwnd featur win smart phone flag caus drawn howev keyboard event workaround hide show window show window hwnd info info size sizeof info mask menu item item set item tool bar tool bar int menu send messag hwnd remov item resourc file remov menu menu menu menu menu parent menu item menu item menu els item menu item null info command item send messag hwnd info set item tool bar tool bar int menu send messag hwnd remov menu menu menu menu menu parent menu item menu item menu els item menu item null info command item send messag hwnd info overrid key reason owner menubar dialog won receiv messag result shell win class dialog int mask int param mask mask send messag hwnd param return handl creat menu handl error int hwnd shell parent handl hwnd command bar creat modul handl null hwnd shell hwnd error command bar show hwnd fals command bar insert menubar hwnd handl command bar host close button window doe parent style parent style command bar add adorn hwnd els handl creat popup menu handl error void creat item menu item item int index int count menu item count handl index index count error display add menu item item boolean success fals hwnd return button button command item button style byte item style button style item style button style byte button state byte button bitmap success send messag hwnd index button els win int flag item null item style flag els item true success insert menu handl index flag item item success info info size sizeof info mask info item data item success set menu item info handl index true info els bug window reason insert menu item insert item text possibl set menu item info set text time fix insert item text featur window empti string space insert menu item set submenu befor set text empti string menu item becom unexpect disabl fix insert space int heap process heap buffer true int byte count buffer length sizeof int psz text heap alloc heap byte count move memori psz text buffer byte count info info size sizeof info mask info info item data item info type item widget style info type data psz text success insert menu item handl index true info psz text heap free heap psz text success display remov menu item item error redraw void creat widget bug reason follow code call method issu error subcod occur thread main addit window dialog follow error messag indic problem app java exe app ver mod jitc dll mod ver offset fix move code caller method check orient parent creat handl parent add menu current int default background return sys color current int default foreground return sys color void destroy acceler parent destroy acceler void destroy item menu item item win hwnd redraw return int index send messag hwnd item send messag hwnd index error int count send messag hwnd count imag list null send messag handl display releas imag list imag list imag list null els int index info info size sizeof info mask menu item info handl index true info info item data item break index info item data item error remov menu handl index error els remov menu handl item error redraw void destroy widget int menu handl hwnd releas handl win command bar destroy els menu destroy menu menu void fix menus decor parent menu item item item int item length item fix menus parent parent remov menu parent add menu parent parent return rectangl describ receiv size locat relat parent display parent null receiv menu shell case locat relat display note bound menu menu item undefin menu visibl becaus platform comput bound menu dynam befor display return receiv bound rectangl receiv dispos call thread creat receiv sinc public rectangl bound check widget win return rectangl style parent menu bar return rectangl int hwnd shell parent handl info info size sizeof menu bar info hwnd shell info int width info info left int height info bottom info top return rectangl info left info top width height els int count menu item count handl count rect menu item rect handl rect rect menu item rect handl count rect int rect left rect top int width rect rect left int height rect bottom rect top return rectangl width height return rectangl return default menu item null previous set return default menu item receiv dispos call thread creat receiv public menu item default item check widget win return null int menu default item handl return null info info size sizeof info mask menu item info handl fals info return display menu item info return null return code true code receiv enabl code fals code otherwis disabl menu typic select user interfac draw inact gray return receiv enabl state receiv dispos call thread creat receiv enabl public boolean enabl check widget return state return item relat index receiv throw index rang param index index item return return item index illeg argument index number element list inclus receiv dispos call thread creat receiv public menu item item int index check widget int hwnd button int result send messag hwnd index button result error button command index index error index els info info size sizeof info mask menu item info handl index true info error info item data return display menu item return number item receiv return number item receiv dispos call thread creat receiv public int item count check widget return menu item count handl return possibl empti array code menu item code item receiv note actual structur receiv maintain list item modifi array affect receiv return item receiv receiv dispos call thread creat receiv public menu item item check widget hwnd menu item result menu item result display menu item result display menu item return result int count send messag hwnd button menu item result menu item count int count send messag hwnd button result display menu item button command return result int count int length win menu item count handl menu item item menu item length info info size sizeof info mask menu item info handl count true info count item length menu item item menu item count system arraycopi item item count item item item count display menu item info item data count item length return item menu item result menu item count system arraycopi item result count return result int menu item count int handl win hwnd return send messag hwnd int count info info size sizeof menu item info handl count true info count return count return menu item count handl string text string result menu item item item int length item length length int length result result item text result result item length text return result return receiv parent code decor code return receiv parent receiv dispos call thread creat receiv public decor parent check widget return parent return receiv parent item code menu item code null receiv root return receiv parent item receiv dispos call thread creat receiv public menu item parent item check widget return cascad return receiv parent item code menu code null receiv root return receiv parent item receiv dispos call thread creat receiv public menu parent menu check widget cascad null return cascad parent return null return receiv shell control shell simpli return control nearest ancestor shell shell return themselv children shell return receiv shell receiv dispos call thread creat receiv parent public shell shell check widget return parent shell return code true code receiv visibl code fals code otherwis receiv ancestor visibl condit receiv visibl method indic consid visibl actual show return receiv visibl state receiv dispos call thread creat receiv public boolean visibl check widget style return parent menu shell menu bar style menu popup display popup popup null return fals int popup length popup return true shell shell shell menu menu shell activ menu menu null menu menu menu parent menu return menu int imag index imag imag hwnd imag null return imag list null int list send messag hwnd list imag list destroy list rectangl bound imag bound imag list display imag list style bound width bound height int imag list imag list handl send messag hwnd imag list int index imag list index imag index index imag list add imag els imag list put index imag return index search receiv list start item index item equal argument return index item item return param item search item return index item illeg argument string null receiv dispos call thread creat receiv public int index menu item item check widget item null error item dispos error item parent return hwnd return send messag hwnd item item return item return return int index info info size sizeof info mask menu item info handl index true info info item data item return index index return return code true code receiv enabl receiv ancestor enabl code fals code otherwis disabl menu typic select user interfac draw inact gray return receiv enabl state receiv dispos call thread creat receiv enabl public boolean enabl check widget menu parent menu parent menu parent menu null return enabl return enabl parent menu enabl return code true code receiv visibl receiv ancestor visibl code fals code otherwis return receiv visibl state receiv dispos call thread creat receiv visibl public boolean visibl check widget return visibl void redraw visibl return style display add bar els updat void releas child super releas child cascad null cascad releas menu style display remov bar parent menu bar parent set menu bar null els style display remov popup void releas handl super releas handl handl hwnd void releas widget menu item item item int item length menu item item item item dispos hwnd item dispos els item releas resourc hwnd imag list null send messag hwnd display releas tool imag list imag list imag list null super releas widget parent null parent remov menu parent null cascad null remov listen collect listen notifi event generat control param listen listen longer notifi illeg argument listen null receiv dispos call thread creat receiv listen add listen public void remov listen listen listen check widget listen null error event tabl null return event tabl unhook listen remov listen collect listen notifi menu event generat control param listen listen longer notifi illeg argument listen null receiv dispos call thread creat receiv menu listen add menu listen public void remov menu listen menu listen listen check widget listen null error event tabl null return event tabl unhook hide listen event tabl unhook show listen set default menu item argument remov default emphasi argument code null code param item default menu item null illeg argument menu item dispos receiv dispos call thread creat receiv public void set default item menu item item check widget int item null item dispos error item parent return item win return int menu default item handl return set menu default item handl redraw enabl receiv argument code true code disabl otherwis disabl menu typic select user interfac draw inact gray param enabl enabl state receiv dispos call thread creat receiv public void set enabl boolean enabl check widget state enabl state set locat receiv popup point specifi argument relat display note differ widget locat widget relat parent note platform window manag ultim control locat popup menus param coordin receiv param coordin receiv receiv dispos call thread creat receiv public void set locat int int check widget style return locat true set locat receiv popup point specifi argument relat display note differ widget locat widget relat parent note platform window manag ultim control locat popup menus param locat locat receiv illeg argument point null receiv dispos call thread creat receiv sinc public void set locat point locat check widget locat null error set locat locat locat mark receiv visibl argument code true code mark invis otherwis receiv ancestor visibl condit receiv visibl mark visibl actual caus display param visibl visibl state receiv dispos call thread creat receiv public void set visibl boolean visibl check widget style return visibl display add popup els display remov popup set visibl fals void updat return time menu modifi command menu bar redrawn won updat proper exampl submenu drop menu menu bar parent menu bar menu bar null menu menu menu null menu menu bar menu menu parent menu menu menu bar command bar draw menu bar menu bar hwnd command bar show menu bar hwnd true return win return style parent menu bar draw menu bar parent handl return return boolean check fals imag fals menu item item item int item length menu item item item item imag null imag true check break item style check true imag break bug window menu item imag check window doe includ width imag width check comput width menu longest item doe imag label acceler text overlap fix set menu item info indic item bitmap includ width widest bitmap work caus problem window circumst isol menus becom huge blank run code window win info info size sizeof info mask int item length menu item item item style item imag null info hbmp item imag set menu item info handl item fals info updat menu hide show space bitmap lpcmi lpcmi size sizeof lpcmi mask menu info handl lpcmi imag check lpcmi style els lpcmi style set menu info handl lpcmi 