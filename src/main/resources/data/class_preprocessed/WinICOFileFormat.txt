copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt intern imag import org eclips swt import org eclips swt graphic import java final class win file format extend file format static final byte convert pad byte data int width int height int depth int pad int pad pad pad return data int stride width depth int bpl stride pad pad pad int bpl stride pad pad pad byte data byte height bpl int src index dest index int height system arraycopi data src index data dest index bpl src index bpl dest index bpl return data answer size byte file represent icon int icon size imag data int shape data stride width depth int mask data stride width int data size shape data stride mask data stride height int palett size palett color null palett color length return win file format header fix size palett size data size boolean file format data input stream stream tri byte header byte stream read header stream unread header return header header header header catch return fals boolean valid icon imag data switch depth case case case palett direct return fals int size palett color length return size size size size case case return palett direct return fals int load file header data input stream byte stream int file header int tri file header byte stream read short file header byte stream read short file header byte stream read short catch error file header file header error int num icon file header num icon error return num icon int load file header data input stream byte stream boolean header int file header int tri header file header byte stream read short file header byte stream read short els file header file header file header byte stream read short catch error file header file header error int num icon file header num icon error return num icon imag data load byte stream int num icon load file header input stream int header load icon header num icon imag data icon imag data header length int icon length icon load icon header return icon load icon byte stream imag data load icon int icon header byte info header load info header icon header win file format bmp format win file format bmp format input stream input stream palett data palett bmp format load palett info header byte shape data bmp format load data info header int width info header info header info header info header int height info header info header info header info header int depth info header info header info header info header byte mask data bmp format load data info header mask data convert pad mask data width height bit invert data mask data mask data length return imag data intern width height depth palett shape data mask data null int load icon header int num icon int header int num icon tri int num icon header input stream read header input stream read header input stream read short header input stream read short header input stream read short header input stream read int header input stream read int catch error return header byte load info header int icon header int width icon header int height icon header int num color icon header number color byte high byte num color num color specifi repres color num color num color num color num color num color error input stream posit icon header seek specifi offset tri input stream skip icon header input stream posit catch error return null byte info header byte win file format header fix size tri input stream read info header catch error info header info header error int info width info header info header info header info header int info height info header info header info header info header int bit count info header info header height info height bit count height width info width height info height bit count bit count bit count bit count bit count error info header byte height info header byte height info header byte height info header byte height return info header unload singl icon void unload icon imag data icon int size imag icon width icon depth icon width icon height tri output stream write int win file format header fix size output stream write int icon width output stream write int icon height output stream write short output stream write short short icon depth output stream write int output stream write int size imag output stream write int output stream write int output stream write int icon palett color null icon palett color length output stream write int catch error byte rgbs win file format palett byte icon palett tri output stream write rgbs catch error unload shape data icon unload mask data icon unload icon header icon calcul offset void unload icon header imag data int header size int offset header size int icon size icon size tri output stream write byte byte width output stream write byte byte height output stream write short palett color null palett color length output stream write short output stream write short output stream write int icon size output stream write int offset catch error void unload byte stream imag data imag valid icon imag error tri output stream write short output stream write short output stream write short catch error unload icon header imag unload icon imag unload mask data icon data flip vertic invert void unload mask data imag data icon imag data mask icon transpar mask int bpl icon width int pad mask scanlin pad int src bpl bpl pad pad pad int dest bpl bpl byte buf byte dest bpl int offset icon height src bpl byte data mask data tri int icon height system arraycopi data offset buf bpl bit invert data buf bpl output stream write buf dest bpl offset src bpl catch error unload shape data icon data flip vertic void unload shape data imag data icon int bpl icon width icon depth int pad icon scanlin pad int src bpl bpl pad pad pad int dest bpl bpl byte buf byte dest bpl int offset icon height src bpl byte data icon data tri int icon height system arraycopi data offset buf bpl output stream write buf dest bpl offset src bpl catch error 