copyright corpor reserv program accompani materi avail term eclips public licens accompani distribut avail http www eclips org legal epl html contributor corpor initi implement packag org eclips swt graphic import java import java util vector import org eclips swt import org eclips swt intern compat import org eclips swt intern imag instanc class load imag save imag file stream current support imag format window bitmap window icon code imag loader code load save singl imag format load save multipl imag load save anim imag load interlac imag load progress imag public class imag loader array imag data object imag loader array read load method call written save method call public imag data data width logic screen imag resid pixel correspond logic screen width valu public int logic screen width height logic screen imag resid pixel correspond logic screen height valu public int logic screen height background pixel logic screen correspond background color index valu default unspecifi background public int background pixel number time repeat display sequenc anim imag correspond common applic extens default valu display repeat public int repeat count set imag loader event listen creat demand vector imag loader listen construct empti imag loader public imag loader reset reset field imag loader code imag loader listen code field void reset data null logic screen width logic screen height background pixel repeat count load array code imag data code object specifi input stream throw error error occur load imag imag support type return load imag data array param stream input stream load imag return array code imag data code object load specifi input stream illeg argument stream null imag file invalid data input output error occur read data imag file unrecogn format public imag data load input stream stream stream null error reset data file format load stream return data load array code imag data code object file specifi throw error error occur load imag imag support type return load imag data array param filenam file load imag return array code imag data code object load specifi file illeg argument file null imag file invalid data error occur read data imag file unrecogn format public imag data load string filenam filenam null error input stream stream null tri stream compat file input stream filenam return load stream catch error final tri stream null stream close catch ignor error return null save imag data imag loader specifi stream format paramet follow valu code code window file format compress code code window file format compress appropri code code file format code code window file format code code file format code code file format param stream output stream write imag param format format write imag illeg argument stream null imag data invalid data error occur write stream imag data save request format public void save output stream stream int format stream null error file format save stream format save imag data imag loader file specifi format paramet follow valu code code window file format compress code code window file format compress appropri code code file format code code window file format code code file format code code file format param filenam file write imag param format format write imag illeg argument file null imag data invalid data error occur write file imag data save request format public void save string filenam int format filenam null error output stream stream null tri stream compat file output stream filenam catch error save stream format add listen collect listen notifi imag data partial complet load imag loader listen ad befor invok receiv load method listen code imag data load code method call imag data partial load support interlac progress imag param listen listen notifi illeg argument listen null imag loader listen imag loader event public void add imag loader listen imag loader listen listen listen null error imag loader listen null imag loader listen vector imag loader listen add element listen remov listen collect listen notifi imag data partial complet load param listen listen longer notifi illeg argument listen null add imag loader listen imag loader listen public void remov imag loader listen imag loader listen listen listen null error imag loader listen null return imag loader listen remov element listen return code true code receiv imag loader listen code fals code otherwis return code true code code imag loader listen code code fals code otherwis add imag loader listen imag loader listen remov imag loader listen imag loader listen public boolean listen return imag loader listen null imag loader listen size notifi imag loader listen imag loader event occur pass specifi event object listen param event code imag loader event code send code imag loader listen code public void notifi listen imag loader event event listen return int size imag loader listen size int size imag loader listen listen imag loader listen imag loader listen element listen imag data load event 